<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="author" content="Siyuan Chen">
    <title>Tower Defense</title>
    <link href="style.css" rel="stylesheet">
    <!-- 脚本依次加载 -->
    <script src="scripts/lib/lz-string.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.js" defer></script>
    <script src="scripts/lib/p5.sound.min.js" defer></script>
    <script src="scripts/effect.js" defer></script>
    <script src="scripts/effects.js" defer></script>
    <script src="scripts/utils.js" defer></script>
    <script src="scripts/load_assets.js" defer></script>
    <script src="scripts/monster.js" defer></script>
    <script src="scripts/monsters.js" defer></script>
    <script src="scripts/particle.js" defer></script>
    <script src="scripts/particle_system.js" defer></script>
    <script src="scripts/bullet.js" defer></script>
    <script src="scripts/tower.js" defer></script>
    <script src="scripts/towers.js" defer></script>
    <script src="scripts/maps.js" defer></script>
    <script src="scripts/main.js" defer></script>
    <script src="scripts/ui.js" defer></script>
    <script src="scripts/menu.js" defer></script>

  </head>
  <body> 
    <!-- 主容器：左侧游戏区域 + 右侧侧边栏 -->
    <div class="main-container">
      <!-- 游戏区域：画布容器 -->
      <div id="game-area">
        <div id="main-holder"></div>
      </div>
      
      <!-- 侧边栏：包含状态、商店、塔信息 -->
      <div id="sidebar">
        <!-- 状态面板
        <div id="status-panel">
          <h2>State</h2> -->
        <!-- 新增敌人栏
        <div id="monster-panel">
          <h2>敌人栏</h2>
          <div id="monster-list"></div>
        </div> -->
        
        <!-- 商店面板 -->
        <div id="store-panel">
          <h2>商店</h2>
          <div class="button-group">
            <button class="gun" onclick="setPlace('gun')">Archer Tower</button>
            <button class="gun" onclick="setPlace('oil')">Boiling Oil Tower</button>
            <button class="bomb" onclick="setPlace('bomb')">Cannon Tower</button>
            <button class="slow" onclick="setPlace('slow')">Net Thrower Tower</button>
             <button class="laser" onclick="setPlace('laser')">Laser AA Tower</button>
            <button class="slow" onclick="setPlace('slow2')">EMP Disruptor Tower</button>
            <button class="trebuchet" onclick="setPlace('trebuchet')">Trebuchet Tower</button>
            <button class="emp" onclick="setPlace('emp')">EMP Tower</button>

          </div>
        </div>
        
        <!-- 塔信息面板 -->
        <div id="info-panel">
          <h2>塔信息</h2>
          <div id="info-div">
            <p id="name"></p>
            <p id="cost"></p>
            <p id="sellPrice"></p>
            <p id="upPrice"></p>
            <p id="damage"></p>
            <p id="type"></p>
            <p id="range"></p>
            <p id="cooldown"></p>
            <div class="button-group" id="info-buttons">
              <button id="sell" onclick="if (selected) sell(selected)">Sell</button>
              <button id="upgrade" onclick="if (selected && selected.upgrades.length > 0) upgrade(selected.upgrades[0])">Upgrade</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- 一个隐藏的 input 用来保存当前关卡值 -->
    <input type="hidden" id="map" value="loops">
    
    <!-- 新的选关界面及自动启动相关脚本 -->
    <script>
      // 定义可选关卡（这里使用之前下拉框中的 4 个选项，可根据需要调整）
      const levels = [
        { id: "customMap", name: "LEVEL 1" }  ,// 新增的地图选项
        { id: "map2", name: "LEVEL 2" } , // 新增的地图选项
        { id: "map3", name: "LEVEL 3" }  // 新增的地图选项
      ];
      
    </script>
  </body>
</html>
